<?xml version="1.0" encoding="UTF-8"?>
<Gipsl:EditorGTFile xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:ecore="http://www.eclipse.org/emf/2002/Ecore" xmlns:gT="http://www.emoflon.org/ibex/gt/editor/GT" xmlns:Gipsl="http://www.emoflon.org/gips/gipslang/Gipsl" xsi:schemaLocation="http://www.eclipse.org/emf/2002/Ecore java://org.eclipse.emf.ecore.EcorePackage http://www.emoflon.org/ibex/gt/editor/GT java://org.emoflon.ibex.gt.editor.gT.GTPackage http://www.emoflon.org/gips/gipslang/Gipsl java://org.emoflon.gips.gipslang.Gipsl.GipslPackage">
  <imports xmi:type="gT:EditorImport" name="platform:/resource/network.model/model/Model.ecore"/>
  <patterns xmi:type="gT:EditorPattern" type="rule" name="serverMatchPositive">
    <nodes xmi:type="gT:EditorNode" name="root">
      <type xmi:type="ecore:EClass" href="../../../../../../../../network.model/model/Model.ecore#//Root"/>
      <references xmi:type="gT:EditorReference" target="//@patterns.0/@nodes.3">
        <type xmi:type="ecore:EReference" href="../../../../../../../../network.model/model/Model.ecore#//Root/networks"/>
      </references>
      <references xmi:type="gT:EditorReference" target="//@patterns.0/@nodes.4">
        <type xmi:type="ecore:EReference" href="../../../../../../../../network.model/model/Model.ecore#//Root/networks"/>
      </references>
    </nodes>
    <nodes xmi:type="gT:EditorNode" name="substrateServer">
      <type xmi:type="ecore:EClass" href="../../../../../../../../network.model/model/Model.ecore#//SubstrateServer"/>
      <attributes xmi:type="gT:EditorAttributeAssignment">
        <attribute xmi:type="ecore:EAttribute" href="../../../../../../../../network.model/model/Model.ecore#//SubstrateServer/residualCpu"/>
        <value xmi:type="gT:ArithmeticCalculationExpression">
          <expression xmi:type="gT:AddExpression" addOperator="-">
            <left xmi:type="gT:EditorAttributeExpression" node="//@patterns.0/@nodes.1">
              <attribute xmi:type="ecore:EAttribute" href="../../../../../../../../network.model/model/Model.ecore#//SubstrateServer/residualCpu"/>
            </left>
            <right xmi:type="gT:EditorAttributeExpression" node="//@patterns.0/@nodes.2">
              <attribute xmi:type="ecore:EAttribute" href="../../../../../../../../network.model/model/Model.ecore#//Server/cpu"/>
            </right>
          </expression>
        </value>
      </attributes>
      <attributes xmi:type="gT:EditorAttributeAssignment">
        <attribute xmi:type="ecore:EAttribute" href="../../../../../../../../network.model/model/Model.ecore#//SubstrateServer/residualMemory"/>
        <value xmi:type="gT:ArithmeticCalculationExpression">
          <expression xmi:type="gT:AddExpression" addOperator="-">
            <left xmi:type="gT:EditorAttributeExpression" node="//@patterns.0/@nodes.1">
              <attribute xmi:type="ecore:EAttribute" href="../../../../../../../../network.model/model/Model.ecore#//SubstrateServer/residualMemory"/>
            </left>
            <right xmi:type="gT:EditorAttributeExpression" node="//@patterns.0/@nodes.2">
              <attribute xmi:type="ecore:EAttribute" href="../../../../../../../../network.model/model/Model.ecore#//Server/memory"/>
            </right>
          </expression>
        </value>
      </attributes>
      <attributes xmi:type="gT:EditorAttributeAssignment">
        <attribute xmi:type="ecore:EAttribute" href="../../../../../../../../network.model/model/Model.ecore#//SubstrateServer/residualStorage"/>
        <value xmi:type="gT:ArithmeticCalculationExpression">
          <expression xmi:type="gT:AddExpression" addOperator="-">
            <left xmi:type="gT:EditorAttributeExpression" node="//@patterns.0/@nodes.1">
              <attribute xmi:type="ecore:EAttribute" href="../../../../../../../../network.model/model/Model.ecore#//SubstrateServer/residualStorage"/>
            </left>
            <right xmi:type="gT:EditorAttributeExpression" node="//@patterns.0/@nodes.2">
              <attribute xmi:type="ecore:EAttribute" href="../../../../../../../../network.model/model/Model.ecore#//Server/storage"/>
            </right>
          </expression>
        </value>
      </attributes>
      <references xmi:type="gT:EditorReference" operator="++" target="//@patterns.0/@nodes.2">
        <type xmi:type="ecore:EReference" href="../../../../../../../../network.model/model/Model.ecore#//SubstrateServer/guestServers"/>
      </references>
    </nodes>
    <nodes xmi:type="gT:EditorNode" name="virtualNode">
      <type xmi:type="ecore:EClass" href="../../../../../../../../network.model/model/Model.ecore#//VirtualServer"/>
      <references xmi:type="gT:EditorReference" operator="++" target="//@patterns.0/@nodes.1">
        <type xmi:type="ecore:EReference" href="../../../../../../../../network.model/model/Model.ecore#//VirtualServer/host"/>
      </references>
    </nodes>
    <nodes xmi:type="gT:EditorNode" name="substrateNetwork">
      <type xmi:type="ecore:EClass" href="../../../../../../../../network.model/model/Model.ecore#//SubstrateNetwork"/>
      <references xmi:type="gT:EditorReference" target="//@patterns.0/@nodes.1">
        <type xmi:type="ecore:EReference" href="../../../../../../../../network.model/model/Model.ecore#//Network/nodes"/>
      </references>
    </nodes>
    <nodes xmi:type="gT:EditorNode" name="virtualNetwork">
      <type xmi:type="ecore:EClass" href="../../../../../../../../network.model/model/Model.ecore#//VirtualNetwork"/>
      <references xmi:type="gT:EditorReference" target="//@patterns.0/@nodes.2">
        <type xmi:type="ecore:EReference" href="../../../../../../../../network.model/model/Model.ecore#//Network/nodes"/>
      </references>
    </nodes>
    <attributeConstraints xmi:type="gT:EditorAttributeConstraint" relation="&lt;=">
      <lhs xmi:type="gT:ArithmeticCalculationExpression">
        <expression xmi:type="gT:EditorAttributeExpression" node="//@patterns.0/@nodes.2">
          <attribute xmi:type="ecore:EAttribute" href="../../../../../../../../network.model/model/Model.ecore#//Server/cpu"/>
        </expression>
      </lhs>
      <rhs xmi:type="gT:ArithmeticCalculationExpression">
        <expression xmi:type="gT:EditorAttributeExpression" node="//@patterns.0/@nodes.1">
          <attribute xmi:type="ecore:EAttribute" href="../../../../../../../../network.model/model/Model.ecore#//SubstrateServer/residualCpu"/>
        </expression>
      </rhs>
    </attributeConstraints>
    <attributeConstraints xmi:type="gT:EditorAttributeConstraint" relation="&lt;=">
      <lhs xmi:type="gT:ArithmeticCalculationExpression">
        <expression xmi:type="gT:EditorAttributeExpression" node="//@patterns.0/@nodes.2">
          <attribute xmi:type="ecore:EAttribute" href="../../../../../../../../network.model/model/Model.ecore#//Server/memory"/>
        </expression>
      </lhs>
      <rhs xmi:type="gT:ArithmeticCalculationExpression">
        <expression xmi:type="gT:EditorAttributeExpression" node="//@patterns.0/@nodes.1">
          <attribute xmi:type="ecore:EAttribute" href="../../../../../../../../network.model/model/Model.ecore#//SubstrateServer/residualMemory"/>
        </expression>
      </rhs>
    </attributeConstraints>
    <attributeConstraints xmi:type="gT:EditorAttributeConstraint" relation="&lt;=">
      <lhs xmi:type="gT:ArithmeticCalculationExpression">
        <expression xmi:type="gT:EditorAttributeExpression" node="//@patterns.0/@nodes.2">
          <attribute xmi:type="ecore:EAttribute" href="../../../../../../../../network.model/model/Model.ecore#//Server/storage"/>
        </expression>
      </lhs>
      <rhs xmi:type="gT:ArithmeticCalculationExpression">
        <expression xmi:type="gT:EditorAttributeExpression" node="//@patterns.0/@nodes.1">
          <attribute xmi:type="ecore:EAttribute" href="../../../../../../../../network.model/model/Model.ecore#//SubstrateServer/residualStorage"/>
        </expression>
      </rhs>
    </attributeConstraints>
  </patterns>
  <patterns xmi:type="gT:EditorPattern" type="rule" name="switchNodeMatchPositive">
    <nodes xmi:type="gT:EditorNode" name="root">
      <type xmi:type="ecore:EClass" href="../../../../../../../../network.model/model/Model.ecore#//Root"/>
      <references xmi:type="gT:EditorReference" target="//@patterns.1/@nodes.3">
        <type xmi:type="ecore:EReference" href="../../../../../../../../network.model/model/Model.ecore#//Root/networks"/>
      </references>
      <references xmi:type="gT:EditorReference" target="//@patterns.1/@nodes.4">
        <type xmi:type="ecore:EReference" href="../../../../../../../../network.model/model/Model.ecore#//Root/networks"/>
      </references>
    </nodes>
    <nodes xmi:type="gT:EditorNode" name="substrateNode">
      <type xmi:type="ecore:EClass" href="../../../../../../../../network.model/model/Model.ecore#//SubstrateNode"/>
      <references xmi:type="gT:EditorReference" operator="++" target="//@patterns.1/@nodes.2">
        <type xmi:type="ecore:EReference" href="../../../../../../../../network.model/model/Model.ecore#//SubstrateNode/guestSwitches"/>
      </references>
    </nodes>
    <nodes xmi:type="gT:EditorNode" name="virtualSwitch">
      <type xmi:type="ecore:EClass" href="../../../../../../../../network.model/model/Model.ecore#//VirtualSwitch"/>
      <references xmi:type="gT:EditorReference" operator="++" target="//@patterns.1/@nodes.1">
        <type xmi:type="ecore:EReference" href="../../../../../../../../network.model/model/Model.ecore#//VirtualSwitch/host"/>
      </references>
    </nodes>
    <nodes xmi:type="gT:EditorNode" name="substrateNetwork">
      <type xmi:type="ecore:EClass" href="../../../../../../../../network.model/model/Model.ecore#//SubstrateNetwork"/>
      <references xmi:type="gT:EditorReference" target="//@patterns.1/@nodes.1">
        <type xmi:type="ecore:EReference" href="../../../../../../../../network.model/model/Model.ecore#//Network/nodes"/>
      </references>
    </nodes>
    <nodes xmi:type="gT:EditorNode" name="virtualNetwork">
      <type xmi:type="ecore:EClass" href="../../../../../../../../network.model/model/Model.ecore#//VirtualNetwork"/>
      <references xmi:type="gT:EditorReference" target="//@patterns.1/@nodes.2">
        <type xmi:type="ecore:EReference" href="../../../../../../../../network.model/model/Model.ecore#//Network/nodes"/>
      </references>
    </nodes>
  </patterns>
  <patterns xmi:type="gT:EditorPattern" type="rule" name="linkPathMatchPositive">
    <nodes xmi:type="gT:EditorNode" name="root">
      <type xmi:type="ecore:EClass" href="../../../../../../../../network.model/model/Model.ecore#//Root"/>
      <references xmi:type="gT:EditorReference" target="//@patterns.2/@nodes.3">
        <type xmi:type="ecore:EReference" href="../../../../../../../../network.model/model/Model.ecore#//Root/networks"/>
      </references>
      <references xmi:type="gT:EditorReference" target="//@patterns.2/@nodes.4">
        <type xmi:type="ecore:EReference" href="../../../../../../../../network.model/model/Model.ecore#//Root/networks"/>
      </references>
    </nodes>
    <nodes xmi:type="gT:EditorNode" name="substratePath">
      <type xmi:type="ecore:EClass" href="../../../../../../../../network.model/model/Model.ecore#//SubstratePath"/>
      <attributes xmi:type="gT:EditorAttributeAssignment">
        <attribute xmi:type="ecore:EAttribute" href="../../../../../../../../network.model/model/Model.ecore#//SubstratePath/residualBandwidth"/>
        <value xmi:type="gT:ArithmeticCalculationExpression">
          <expression xmi:type="gT:AddExpression" addOperator="-">
            <left xmi:type="gT:EditorAttributeExpression" node="//@patterns.2/@nodes.1">
              <attribute xmi:type="ecore:EAttribute" href="../../../../../../../../network.model/model/Model.ecore#//SubstratePath/residualBandwidth"/>
            </left>
            <right xmi:type="gT:EditorAttributeExpression" node="//@patterns.2/@nodes.2">
              <attribute xmi:type="ecore:EAttribute" href="../../../../../../../../network.model/model/Model.ecore#//Link/bandwidth"/>
            </right>
          </expression>
        </value>
      </attributes>
      <references xmi:type="gT:EditorReference" operator="++" target="//@patterns.2/@nodes.2">
        <type xmi:type="ecore:EReference" href="../../../../../../../../network.model/model/Model.ecore#//SubstrateHostLink/guestLinks"/>
      </references>
      <iterators xmi:type="gT:EditorReferenceIterator" name="l">
        <type xmi:type="ecore:EReference" href="../../../../../../../../network.model/model/Model.ecore#//SubstratePath/links"/>
        <iteratorAttributes xmi:type="gT:EditorIteratorAttributeAssignmentItr">
          <value xmi:type="gT:ArithmeticCalculationExpression">
            <expression xmi:type="gT:AddExpression" addOperator="-">
              <left xmi:type="gT:EditorIteratorAttributeExpression" iterator="//@patterns.2/@nodes.1/@iterators.0">
                <attribute xmi:type="ecore:EAttribute" href="../../../../../../../../network.model/model/Model.ecore#//SubstrateLink/residualBandwidth"/>
              </left>
              <right xmi:type="gT:EditorAttributeExpression" node="//@patterns.2/@nodes.2">
                <attribute xmi:type="ecore:EAttribute" href="../../../../../../../../network.model/model/Model.ecore#//Link/bandwidth"/>
              </right>
            </expression>
          </value>
          <iteratorAttribute xmi:type="gT:EditorIteratorAttributeExpression" iterator="//@patterns.2/@nodes.1/@iterators.0">
            <attribute xmi:type="ecore:EAttribute" href="../../../../../../../../network.model/model/Model.ecore#//SubstrateLink/residualBandwidth"/>
          </iteratorAttribute>
        </iteratorAttributes>
      </iterators>
    </nodes>
    <nodes xmi:type="gT:EditorNode" name="virtualLink">
      <type xmi:type="ecore:EClass" href="../../../../../../../../network.model/model/Model.ecore#//VirtualLink"/>
      <references xmi:type="gT:EditorReference" operator="++" target="//@patterns.2/@nodes.1">
        <type xmi:type="ecore:EReference" href="../../../../../../../../network.model/model/Model.ecore#//VirtualLink/host"/>
      </references>
    </nodes>
    <nodes xmi:type="gT:EditorNode" name="substrateNetwork">
      <type xmi:type="ecore:EClass" href="../../../../../../../../network.model/model/Model.ecore#//SubstrateNetwork"/>
      <references xmi:type="gT:EditorReference" target="//@patterns.2/@nodes.1">
        <type xmi:type="ecore:EReference" href="../../../../../../../../network.model/model/Model.ecore#//SubstrateNetwork/paths"/>
      </references>
    </nodes>
    <nodes xmi:type="gT:EditorNode" name="virtualNetwork">
      <type xmi:type="ecore:EClass" href="../../../../../../../../network.model/model/Model.ecore#//VirtualNetwork"/>
      <references xmi:type="gT:EditorReference" target="//@patterns.2/@nodes.2">
        <type xmi:type="ecore:EReference" href="../../../../../../../../network.model/model/Model.ecore#//Network/links"/>
      </references>
    </nodes>
    <attributeConstraints xmi:type="gT:EditorAttributeConstraint" relation="&lt;=">
      <lhs xmi:type="gT:ArithmeticCalculationExpression">
        <expression xmi:type="gT:EditorAttributeExpression" node="//@patterns.2/@nodes.2">
          <attribute xmi:type="ecore:EAttribute" href="../../../../../../../../network.model/model/Model.ecore#//Link/bandwidth"/>
        </expression>
      </lhs>
      <rhs xmi:type="gT:ArithmeticCalculationExpression">
        <expression xmi:type="gT:EditorAttributeExpression" node="//@patterns.2/@nodes.1">
          <attribute xmi:type="ecore:EAttribute" href="../../../../../../../../network.model/model/Model.ecore#//SubstratePath/residualBandwidth"/>
        </expression>
      </rhs>
    </attributeConstraints>
    <attributeConstraints xmi:type="gT:EditorAttributeConstraint">
      <lhs xmi:type="gT:ArithmeticCalculationExpression">
        <expression xmi:type="gT:EditorAttributeExpression" node="//@patterns.2/@nodes.1">
          <attribute xmi:type="ecore:EAttribute" href="../../../../../../../../network.model/model/Model.ecore#//SubstratePath/residualBandwidth"/>
        </expression>
      </lhs>
      <rhs xmi:type="gT:ArithmeticCalculationExpression">
        <expression xmi:type="gT:EditorLiteralExpression" value="0"/>
      </rhs>
    </attributeConstraints>
  </patterns>
  <patterns xmi:type="gT:EditorPattern" type="rule" name="linkServerMatchPositive">
    <nodes xmi:type="gT:EditorNode" name="root">
      <type xmi:type="ecore:EClass" href="../../../../../../../../network.model/model/Model.ecore#//Root"/>
      <references xmi:type="gT:EditorReference" target="//@patterns.3/@nodes.3">
        <type xmi:type="ecore:EReference" href="../../../../../../../../network.model/model/Model.ecore#//Root/networks"/>
      </references>
      <references xmi:type="gT:EditorReference" target="//@patterns.3/@nodes.4">
        <type xmi:type="ecore:EReference" href="../../../../../../../../network.model/model/Model.ecore#//Root/networks"/>
      </references>
    </nodes>
    <nodes xmi:type="gT:EditorNode" name="substrateServer">
      <type xmi:type="ecore:EClass" href="../../../../../../../../network.model/model/Model.ecore#//SubstrateServer"/>
      <references xmi:type="gT:EditorReference" operator="++" target="//@patterns.3/@nodes.2">
        <type xmi:type="ecore:EReference" href="../../../../../../../../network.model/model/Model.ecore#//SubstrateHostLink/guestLinks"/>
      </references>
    </nodes>
    <nodes xmi:type="gT:EditorNode" name="virtualLink">
      <type xmi:type="ecore:EClass" href="../../../../../../../../network.model/model/Model.ecore#//VirtualLink"/>
      <references xmi:type="gT:EditorReference" operator="++" target="//@patterns.3/@nodes.1">
        <type xmi:type="ecore:EReference" href="../../../../../../../../network.model/model/Model.ecore#//VirtualLink/host"/>
      </references>
    </nodes>
    <nodes xmi:type="gT:EditorNode" name="substrateNetwork">
      <type xmi:type="ecore:EClass" href="../../../../../../../../network.model/model/Model.ecore#//SubstrateNetwork"/>
      <references xmi:type="gT:EditorReference" target="//@patterns.3/@nodes.1">
        <type xmi:type="ecore:EReference" href="../../../../../../../../network.model/model/Model.ecore#//Network/nodes"/>
      </references>
    </nodes>
    <nodes xmi:type="gT:EditorNode" name="virtualNetwork">
      <type xmi:type="ecore:EClass" href="../../../../../../../../network.model/model/Model.ecore#//VirtualNetwork"/>
      <references xmi:type="gT:EditorReference" target="//@patterns.3/@nodes.2">
        <type xmi:type="ecore:EReference" href="../../../../../../../../network.model/model/Model.ecore#//Network/links"/>
      </references>
    </nodes>
  </patterns>
  <patterns xmi:type="gT:EditorPattern" type="rule" name="networkRule">
    <nodes xmi:type="gT:EditorNode" name="root">
      <type xmi:type="ecore:EClass" href="../../../../../../../../network.model/model/Model.ecore#//Root"/>
      <references xmi:type="gT:EditorReference" target="//@patterns.4/@nodes.1">
        <type xmi:type="ecore:EReference" href="../../../../../../../../network.model/model/Model.ecore#//Root/networks"/>
      </references>
      <references xmi:type="gT:EditorReference" target="//@patterns.4/@nodes.2">
        <type xmi:type="ecore:EReference" href="../../../../../../../../network.model/model/Model.ecore#//Root/networks"/>
      </references>
    </nodes>
    <nodes xmi:type="gT:EditorNode" name="substrateNetwork">
      <type xmi:type="ecore:EClass" href="../../../../../../../../network.model/model/Model.ecore#//SubstrateNetwork"/>
      <references xmi:type="gT:EditorReference" operator="++" target="//@patterns.4/@nodes.2">
        <type xmi:type="ecore:EReference" href="../../../../../../../../network.model/model/Model.ecore#//SubstrateNetwork/guests"/>
      </references>
    </nodes>
    <nodes xmi:type="gT:EditorNode" name="virtualNetwork">
      <type xmi:type="ecore:EClass" href="../../../../../../../../network.model/model/Model.ecore#//VirtualNetwork"/>
      <references xmi:type="gT:EditorReference" operator="++" target="//@patterns.4/@nodes.1">
        <type xmi:type="ecore:EReference" href="../../../../../../../../network.model/model/Model.ecore#//VirtualNetwork/host"/>
      </references>
    </nodes>
  </patterns>
  <config xmi:type="Gipsl:RoamConfig" home="&quot;C:\gurobi950\win64&quot;" license="&quot;C:\Users\mkratz\gurobi.lic&quot;" enableLaunchConfig="true" mainLoc="&quot;org.emoflon.gips.gipslang.examples.mdvne.ExampleMdVNE&quot;" enableLimit="true" timeLimit="5.0" enableSeed="true" rndSeed="42" enablePresolve="true" enableDebugOutput="true"/>
  <mappings xmi:type="Gipsl:RoamMapping" name="srv2srv" rule="//@patterns.0"/>
  <mappings xmi:type="Gipsl:RoamMapping" name="sw2node" rule="//@patterns.1"/>
  <mappings xmi:type="Gipsl:RoamMapping" name="l2p" rule="//@patterns.2"/>
  <mappings xmi:type="Gipsl:RoamMapping" name="l2s" rule="//@patterns.3"/>
  <constraints xmi:type="Gipsl:RoamConstraint">
    <context xmi:type="Gipsl:RoamMatchContext" pattern="//@patterns.0"/>
    <expr xmi:type="Gipsl:RoamBool">
      <expr xmi:type="Gipsl:RoamRelExpr" operator="==">
        <left xmi:type="Gipsl:RoamMappingAttributeExpr" mapping="//@mappings.0">
          <expr xmi:type="Gipsl:RoamStreamNavigation">
            <left xmi:type="Gipsl:RoamStreamSet">
              <lambda xmi:type="Gipsl:RoamLambdaExpression" name="match">
                <expr xmi:type="Gipsl:RoamRelExpr" operator="==">
                  <left xmi:type="Gipsl:RoamLambdaAttributeExpression" var="//@constraints.0/@expr/@expr/@left/@expr/@left/@lambda">
                    <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.0/@nodes.2"/>
                  </left>
                  <right xmi:type="Gipsl:RoamContextExpr">
                    <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.0/@nodes.2"/>
                  </right>
                </expr>
              </lambda>
            </left>
            <right xmi:type="Gipsl:RoamStreamBoolExpr" operator="count()"/>
          </expr>
        </left>
        <right xmi:type="Gipsl:RoamArithmeticLiteral" value="1"/>
      </expr>
    </expr>
  </constraints>
  <constraints xmi:type="Gipsl:RoamConstraint">
    <context xmi:type="Gipsl:RoamTypeContext">
      <type xmi:type="ecore:EClass" href="../../../../../../../../network.model/model/Model.ecore#//SubstrateServer"/>
    </context>
    <expr xmi:type="Gipsl:RoamBool">
      <expr xmi:type="Gipsl:RoamBinaryBoolExpr">
        <left xmi:type="Gipsl:RoamBinaryBoolExpr">
          <left xmi:type="Gipsl:RoamRelExpr" operator="&lt;=">
            <left xmi:type="Gipsl:RoamMappingAttributeExpr" mapping="//@mappings.0">
              <expr xmi:type="Gipsl:RoamStreamNavigation">
                <left xmi:type="Gipsl:RoamStreamSet">
                  <lambda xmi:type="Gipsl:RoamLambdaExpression" name="match">
                    <expr xmi:type="Gipsl:RoamRelExpr" operator="==">
                      <left xmi:type="Gipsl:RoamLambdaAttributeExpression" var="//@constraints.1/@expr/@expr/@left/@left/@left/@expr/@left/@lambda">
                        <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.0/@nodes.1"/>
                      </left>
                      <right xmi:type="Gipsl:RoamContextExpr"/>
                    </expr>
                  </lambda>
                </left>
                <right xmi:type="Gipsl:RoamStreamArithmetic">
                  <lambda xmi:type="Gipsl:RoamLambdaExpression" name="match">
                    <expr xmi:type="Gipsl:RoamRelExpr">
                      <left xmi:type="Gipsl:RoamLambdaAttributeExpression" var="//@constraints.1/@expr/@expr/@left/@left/@left/@expr/@right/@lambda">
                        <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.0/@nodes.2">
                          <expr xmi:type="Gipsl:RoamFeatureLit">
                            <feature xmi:type="ecore:EAttribute" href="../../../../../../../../network.model/model/Model.ecore#//Server/cpu"/>
                          </expr>
                        </expr>
                      </left>
                    </expr>
                  </lambda>
                </right>
              </expr>
            </left>
            <right xmi:type="Gipsl:RoamContextExpr">
              <expr xmi:type="Gipsl:RoamFeatureLit">
                <feature xmi:type="ecore:EAttribute" href="../../../../../../../../network.model/model/Model.ecore#//SubstrateServer/residualCpu"/>
              </expr>
            </right>
          </left>
          <right xmi:type="Gipsl:RoamRelExpr" operator="&lt;=">
            <left xmi:type="Gipsl:RoamMappingAttributeExpr" mapping="//@mappings.0">
              <expr xmi:type="Gipsl:RoamStreamNavigation">
                <left xmi:type="Gipsl:RoamStreamSet">
                  <lambda xmi:type="Gipsl:RoamLambdaExpression" name="match">
                    <expr xmi:type="Gipsl:RoamRelExpr" operator="==">
                      <left xmi:type="Gipsl:RoamLambdaAttributeExpression" var="//@constraints.1/@expr/@expr/@left/@right/@left/@expr/@left/@lambda">
                        <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.0/@nodes.1"/>
                      </left>
                      <right xmi:type="Gipsl:RoamContextExpr"/>
                    </expr>
                  </lambda>
                </left>
                <right xmi:type="Gipsl:RoamStreamArithmetic">
                  <lambda xmi:type="Gipsl:RoamLambdaExpression" name="match">
                    <expr xmi:type="Gipsl:RoamRelExpr">
                      <left xmi:type="Gipsl:RoamLambdaAttributeExpression" var="//@constraints.1/@expr/@expr/@left/@right/@left/@expr/@right/@lambda">
                        <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.0/@nodes.2">
                          <expr xmi:type="Gipsl:RoamFeatureLit">
                            <feature xmi:type="ecore:EAttribute" href="../../../../../../../../network.model/model/Model.ecore#//Server/memory"/>
                          </expr>
                        </expr>
                      </left>
                    </expr>
                  </lambda>
                </right>
              </expr>
            </left>
            <right xmi:type="Gipsl:RoamContextExpr">
              <expr xmi:type="Gipsl:RoamFeatureLit">
                <feature xmi:type="ecore:EAttribute" href="../../../../../../../../network.model/model/Model.ecore#//SubstrateServer/residualMemory"/>
              </expr>
            </right>
          </right>
        </left>
        <right xmi:type="Gipsl:RoamRelExpr" operator="&lt;=">
          <left xmi:type="Gipsl:RoamMappingAttributeExpr" mapping="//@mappings.0">
            <expr xmi:type="Gipsl:RoamStreamNavigation">
              <left xmi:type="Gipsl:RoamStreamSet">
                <lambda xmi:type="Gipsl:RoamLambdaExpression" name="match">
                  <expr xmi:type="Gipsl:RoamRelExpr" operator="==">
                    <left xmi:type="Gipsl:RoamLambdaAttributeExpression" var="//@constraints.1/@expr/@expr/@right/@left/@expr/@left/@lambda">
                      <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.0/@nodes.1"/>
                    </left>
                    <right xmi:type="Gipsl:RoamContextExpr"/>
                  </expr>
                </lambda>
              </left>
              <right xmi:type="Gipsl:RoamStreamArithmetic">
                <lambda xmi:type="Gipsl:RoamLambdaExpression" name="match">
                  <expr xmi:type="Gipsl:RoamRelExpr">
                    <left xmi:type="Gipsl:RoamLambdaAttributeExpression" var="//@constraints.1/@expr/@expr/@right/@left/@expr/@right/@lambda">
                      <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.0/@nodes.2">
                        <expr xmi:type="Gipsl:RoamFeatureLit">
                          <feature xmi:type="ecore:EAttribute" href="../../../../../../../../network.model/model/Model.ecore#//Server/storage"/>
                        </expr>
                      </expr>
                    </left>
                  </expr>
                </lambda>
              </right>
            </expr>
          </left>
          <right xmi:type="Gipsl:RoamContextExpr">
            <expr xmi:type="Gipsl:RoamFeatureLit">
              <feature xmi:type="ecore:EAttribute" href="../../../../../../../../network.model/model/Model.ecore#//SubstrateServer/residualStorage"/>
            </expr>
          </right>
        </right>
      </expr>
    </expr>
  </constraints>
  <constraints xmi:type="Gipsl:RoamConstraint">
    <context xmi:type="Gipsl:RoamMatchContext" pattern="//@patterns.1"/>
    <expr xmi:type="Gipsl:RoamBool">
      <expr xmi:type="Gipsl:RoamRelExpr" operator="==">
        <left xmi:type="Gipsl:RoamMappingAttributeExpr" mapping="//@mappings.1">
          <expr xmi:type="Gipsl:RoamStreamNavigation">
            <left xmi:type="Gipsl:RoamStreamSet">
              <lambda xmi:type="Gipsl:RoamLambdaExpression" name="match">
                <expr xmi:type="Gipsl:RoamRelExpr" operator="==">
                  <left xmi:type="Gipsl:RoamLambdaAttributeExpression" var="//@constraints.2/@expr/@expr/@left/@expr/@left/@lambda">
                    <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.1/@nodes.2"/>
                  </left>
                  <right xmi:type="Gipsl:RoamContextExpr">
                    <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.1/@nodes.2"/>
                  </right>
                </expr>
              </lambda>
            </left>
            <right xmi:type="Gipsl:RoamStreamBoolExpr" operator="count()"/>
          </expr>
        </left>
        <right xmi:type="Gipsl:RoamArithmeticLiteral" value="1"/>
      </expr>
    </expr>
  </constraints>
  <constraints xmi:type="Gipsl:RoamConstraint">
    <context xmi:type="Gipsl:RoamMatchContext" pattern="//@patterns.2"/>
    <expr xmi:type="Gipsl:RoamBool">
      <expr xmi:type="Gipsl:RoamRelExpr" operator=">=">
        <left xmi:type="Gipsl:RoamSumArithmeticExpr">
          <left xmi:type="Gipsl:RoamBracketExpr">
            <operand xmi:type="Gipsl:RoamSumArithmeticExpr">
              <left xmi:type="Gipsl:RoamMappingAttributeExpr" mapping="//@mappings.0">
                <expr xmi:type="Gipsl:RoamStreamNavigation">
                  <left xmi:type="Gipsl:RoamStreamSet">
                    <lambda xmi:type="Gipsl:RoamLambdaExpression" name="mpp">
                      <expr xmi:type="Gipsl:RoamBinaryBoolExpr">
                        <left xmi:type="Gipsl:RoamRelExpr" operator="==">
                          <left xmi:type="Gipsl:RoamLambdaAttributeExpression" var="//@constraints.3/@expr/@expr/@left/@left/@operand/@left/@expr/@left/@lambda">
                            <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.0/@nodes.2"/>
                          </left>
                          <right xmi:type="Gipsl:RoamContextExpr">
                            <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.2/@nodes.2">
                              <expr xmi:type="Gipsl:RoamFeatureLit">
                                <feature xmi:type="ecore:EReference" href="../../../../../../../../network.model/model/Model.ecore#//Link/source"/>
                              </expr>
                            </expr>
                          </right>
                        </left>
                        <right xmi:type="Gipsl:RoamRelExpr" operator="==">
                          <left xmi:type="Gipsl:RoamLambdaAttributeExpression" var="//@constraints.3/@expr/@expr/@left/@left/@operand/@left/@expr/@left/@lambda">
                            <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.0/@nodes.1"/>
                          </left>
                          <right xmi:type="Gipsl:RoamContextExpr">
                            <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.2/@nodes.1">
                              <expr xmi:type="Gipsl:RoamFeatureLit">
                                <feature xmi:type="ecore:EReference" href="../../../../../../../../network.model/model/Model.ecore#//SubstratePath/source"/>
                              </expr>
                            </expr>
                          </right>
                        </right>
                      </expr>
                    </lambda>
                  </left>
                  <right xmi:type="Gipsl:RoamStreamBoolExpr" operator="count()"/>
                </expr>
              </left>
              <right xmi:type="Gipsl:RoamMappingAttributeExpr" mapping="//@mappings.1">
                <expr xmi:type="Gipsl:RoamStreamNavigation">
                  <left xmi:type="Gipsl:RoamStreamSet">
                    <lambda xmi:type="Gipsl:RoamLambdaExpression" name="mpp">
                      <expr xmi:type="Gipsl:RoamBinaryBoolExpr">
                        <left xmi:type="Gipsl:RoamRelExpr" operator="==">
                          <left xmi:type="Gipsl:RoamLambdaAttributeExpression" var="//@constraints.3/@expr/@expr/@left/@left/@operand/@right/@expr/@left/@lambda">
                            <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.1/@nodes.2"/>
                          </left>
                          <right xmi:type="Gipsl:RoamContextExpr">
                            <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.2/@nodes.2">
                              <expr xmi:type="Gipsl:RoamFeatureLit">
                                <feature xmi:type="ecore:EReference" href="../../../../../../../../network.model/model/Model.ecore#//Link/source"/>
                              </expr>
                            </expr>
                          </right>
                        </left>
                        <right xmi:type="Gipsl:RoamRelExpr" operator="==">
                          <left xmi:type="Gipsl:RoamLambdaAttributeExpression" var="//@constraints.3/@expr/@expr/@left/@left/@operand/@right/@expr/@left/@lambda">
                            <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.1/@nodes.1"/>
                          </left>
                          <right xmi:type="Gipsl:RoamContextExpr">
                            <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.2/@nodes.1">
                              <expr xmi:type="Gipsl:RoamFeatureLit">
                                <feature xmi:type="ecore:EReference" href="../../../../../../../../network.model/model/Model.ecore#//SubstratePath/source"/>
                              </expr>
                            </expr>
                          </right>
                        </right>
                      </expr>
                    </lambda>
                  </left>
                  <right xmi:type="Gipsl:RoamStreamBoolExpr" operator="count()"/>
                </expr>
              </right>
            </operand>
          </left>
          <right xmi:type="Gipsl:RoamBracketExpr">
            <operand xmi:type="Gipsl:RoamSumArithmeticExpr">
              <left xmi:type="Gipsl:RoamMappingAttributeExpr" mapping="//@mappings.0">
                <expr xmi:type="Gipsl:RoamStreamNavigation">
                  <left xmi:type="Gipsl:RoamStreamSet">
                    <lambda xmi:type="Gipsl:RoamLambdaExpression" name="mpp">
                      <expr xmi:type="Gipsl:RoamBinaryBoolExpr">
                        <left xmi:type="Gipsl:RoamRelExpr" operator="==">
                          <left xmi:type="Gipsl:RoamLambdaAttributeExpression" var="//@constraints.3/@expr/@expr/@left/@right/@operand/@left/@expr/@left/@lambda">
                            <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.0/@nodes.2"/>
                          </left>
                          <right xmi:type="Gipsl:RoamContextExpr">
                            <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.2/@nodes.2">
                              <expr xmi:type="Gipsl:RoamFeatureLit">
                                <feature xmi:type="ecore:EReference" href="../../../../../../../../network.model/model/Model.ecore#//Link/target"/>
                              </expr>
                            </expr>
                          </right>
                        </left>
                        <right xmi:type="Gipsl:RoamRelExpr" operator="==">
                          <left xmi:type="Gipsl:RoamLambdaAttributeExpression" var="//@constraints.3/@expr/@expr/@left/@right/@operand/@left/@expr/@left/@lambda">
                            <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.0/@nodes.1"/>
                          </left>
                          <right xmi:type="Gipsl:RoamContextExpr">
                            <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.2/@nodes.1">
                              <expr xmi:type="Gipsl:RoamFeatureLit">
                                <feature xmi:type="ecore:EReference" href="../../../../../../../../network.model/model/Model.ecore#//SubstratePath/target"/>
                              </expr>
                            </expr>
                          </right>
                        </right>
                      </expr>
                    </lambda>
                  </left>
                  <right xmi:type="Gipsl:RoamStreamBoolExpr" operator="count()"/>
                </expr>
              </left>
              <right xmi:type="Gipsl:RoamMappingAttributeExpr" mapping="//@mappings.1">
                <expr xmi:type="Gipsl:RoamStreamNavigation">
                  <left xmi:type="Gipsl:RoamStreamSet">
                    <lambda xmi:type="Gipsl:RoamLambdaExpression" name="mpp">
                      <expr xmi:type="Gipsl:RoamBinaryBoolExpr">
                        <left xmi:type="Gipsl:RoamRelExpr" operator="==">
                          <left xmi:type="Gipsl:RoamLambdaAttributeExpression" var="//@constraints.3/@expr/@expr/@left/@right/@operand/@right/@expr/@left/@lambda">
                            <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.1/@nodes.2"/>
                          </left>
                          <right xmi:type="Gipsl:RoamContextExpr">
                            <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.2/@nodes.2">
                              <expr xmi:type="Gipsl:RoamFeatureLit">
                                <feature xmi:type="ecore:EReference" href="../../../../../../../../network.model/model/Model.ecore#//Link/target"/>
                              </expr>
                            </expr>
                          </right>
                        </left>
                        <right xmi:type="Gipsl:RoamRelExpr" operator="==">
                          <left xmi:type="Gipsl:RoamLambdaAttributeExpression" var="//@constraints.3/@expr/@expr/@left/@right/@operand/@right/@expr/@left/@lambda">
                            <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.1/@nodes.1"/>
                          </left>
                          <right xmi:type="Gipsl:RoamContextExpr">
                            <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.2/@nodes.1">
                              <expr xmi:type="Gipsl:RoamFeatureLit">
                                <feature xmi:type="ecore:EReference" href="../../../../../../../../network.model/model/Model.ecore#//SubstratePath/target"/>
                              </expr>
                            </expr>
                          </right>
                        </right>
                      </expr>
                    </lambda>
                  </left>
                  <right xmi:type="Gipsl:RoamStreamBoolExpr" operator="count()"/>
                </expr>
              </right>
            </operand>
          </right>
        </left>
        <right xmi:type="Gipsl:RoamProductArithmeticExpr">
          <left xmi:type="Gipsl:RoamArithmeticLiteral" value="2"/>
          <right xmi:type="Gipsl:RoamMappingAttributeExpr" mapping="//@mappings.2">
            <expr xmi:type="Gipsl:RoamStreamNavigation">
              <left xmi:type="Gipsl:RoamStreamSet">
                <lambda xmi:type="Gipsl:RoamLambdaExpression" name="mpp">
                  <expr xmi:type="Gipsl:RoamBinaryBoolExpr">
                    <left xmi:type="Gipsl:RoamRelExpr" operator="==">
                      <left xmi:type="Gipsl:RoamLambdaAttributeExpression" var="//@constraints.3/@expr/@expr/@right/@right/@expr/@left/@lambda">
                        <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.2/@nodes.1"/>
                      </left>
                      <right xmi:type="Gipsl:RoamContextExpr">
                        <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.2/@nodes.1"/>
                      </right>
                    </left>
                    <right xmi:type="Gipsl:RoamRelExpr" operator="==">
                      <left xmi:type="Gipsl:RoamLambdaAttributeExpression" var="//@constraints.3/@expr/@expr/@right/@right/@expr/@left/@lambda">
                        <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.2/@nodes.2"/>
                      </left>
                      <right xmi:type="Gipsl:RoamContextExpr">
                        <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.2/@nodes.2"/>
                      </right>
                    </right>
                  </expr>
                </lambda>
              </left>
              <right xmi:type="Gipsl:RoamStreamBoolExpr" operator="count()"/>
            </expr>
          </right>
        </right>
      </expr>
    </expr>
  </constraints>
  <constraints xmi:type="Gipsl:RoamConstraint">
    <context xmi:type="Gipsl:RoamTypeContext">
      <type xmi:type="ecore:EClass" href="../../../../../../../../network.model/model/Model.ecore#//SubstratePath"/>
    </context>
    <expr xmi:type="Gipsl:RoamBool">
      <expr xmi:type="Gipsl:RoamRelExpr" operator="&lt;=">
        <left xmi:type="Gipsl:RoamMappingAttributeExpr" mapping="//@mappings.2">
          <expr xmi:type="Gipsl:RoamStreamNavigation">
            <left xmi:type="Gipsl:RoamStreamSet">
              <lambda xmi:type="Gipsl:RoamLambdaExpression" name="match">
                <expr xmi:type="Gipsl:RoamRelExpr" operator="==">
                  <left xmi:type="Gipsl:RoamLambdaAttributeExpression" var="//@constraints.4/@expr/@expr/@left/@expr/@left/@lambda">
                    <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.2/@nodes.1"/>
                  </left>
                  <right xmi:type="Gipsl:RoamContextExpr"/>
                </expr>
              </lambda>
            </left>
            <right xmi:type="Gipsl:RoamStreamArithmetic">
              <lambda xmi:type="Gipsl:RoamLambdaExpression" name="match">
                <expr xmi:type="Gipsl:RoamRelExpr">
                  <left xmi:type="Gipsl:RoamLambdaAttributeExpression" var="//@constraints.4/@expr/@expr/@left/@expr/@right/@lambda">
                    <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.2/@nodes.2">
                      <expr xmi:type="Gipsl:RoamFeatureLit">
                        <feature xmi:type="ecore:EAttribute" href="../../../../../../../../network.model/model/Model.ecore#//Link/bandwidth"/>
                      </expr>
                    </expr>
                  </left>
                </expr>
              </lambda>
            </right>
          </expr>
        </left>
        <right xmi:type="Gipsl:RoamContextExpr">
          <expr xmi:type="Gipsl:RoamFeatureLit">
            <feature xmi:type="ecore:EAttribute" href="../../../../../../../../network.model/model/Model.ecore#//SubstratePath/residualBandwidth"/>
          </expr>
        </right>
      </expr>
    </expr>
  </constraints>
  <constraints xmi:type="Gipsl:RoamConstraint">
    <context xmi:type="Gipsl:RoamMatchContext" pattern="//@patterns.3"/>
    <expr xmi:type="Gipsl:RoamBool">
      <expr xmi:type="Gipsl:RoamRelExpr" operator=">=">
        <left xmi:type="Gipsl:RoamSumArithmeticExpr">
          <left xmi:type="Gipsl:RoamBracketExpr">
            <operand xmi:type="Gipsl:RoamSumArithmeticExpr">
              <left xmi:type="Gipsl:RoamMappingAttributeExpr" mapping="//@mappings.0">
                <expr xmi:type="Gipsl:RoamStreamNavigation">
                  <left xmi:type="Gipsl:RoamStreamSet">
                    <lambda xmi:type="Gipsl:RoamLambdaExpression" name="mpp">
                      <expr xmi:type="Gipsl:RoamBinaryBoolExpr">
                        <left xmi:type="Gipsl:RoamRelExpr" operator="==">
                          <left xmi:type="Gipsl:RoamLambdaAttributeExpression" var="//@constraints.5/@expr/@expr/@left/@left/@operand/@left/@expr/@left/@lambda">
                            <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.0/@nodes.2"/>
                          </left>
                          <right xmi:type="Gipsl:RoamContextExpr">
                            <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.3/@nodes.2">
                              <expr xmi:type="Gipsl:RoamFeatureLit">
                                <feature xmi:type="ecore:EReference" href="../../../../../../../../network.model/model/Model.ecore#//Link/source"/>
                              </expr>
                            </expr>
                          </right>
                        </left>
                        <right xmi:type="Gipsl:RoamRelExpr" operator="==">
                          <left xmi:type="Gipsl:RoamLambdaAttributeExpression" var="//@constraints.5/@expr/@expr/@left/@left/@operand/@left/@expr/@left/@lambda">
                            <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.0/@nodes.1"/>
                          </left>
                          <right xmi:type="Gipsl:RoamContextExpr">
                            <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.3/@nodes.1"/>
                          </right>
                        </right>
                      </expr>
                    </lambda>
                  </left>
                  <right xmi:type="Gipsl:RoamStreamBoolExpr" operator="count()"/>
                </expr>
              </left>
              <right xmi:type="Gipsl:RoamMappingAttributeExpr" mapping="//@mappings.1">
                <expr xmi:type="Gipsl:RoamStreamNavigation">
                  <left xmi:type="Gipsl:RoamStreamSet">
                    <lambda xmi:type="Gipsl:RoamLambdaExpression" name="mpp">
                      <expr xmi:type="Gipsl:RoamBinaryBoolExpr">
                        <left xmi:type="Gipsl:RoamRelExpr" operator="==">
                          <left xmi:type="Gipsl:RoamLambdaAttributeExpression" var="//@constraints.5/@expr/@expr/@left/@left/@operand/@right/@expr/@left/@lambda">
                            <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.1/@nodes.2"/>
                          </left>
                          <right xmi:type="Gipsl:RoamContextExpr">
                            <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.3/@nodes.2">
                              <expr xmi:type="Gipsl:RoamFeatureLit">
                                <feature xmi:type="ecore:EReference" href="../../../../../../../../network.model/model/Model.ecore#//Link/source"/>
                              </expr>
                            </expr>
                          </right>
                        </left>
                        <right xmi:type="Gipsl:RoamRelExpr" operator="==">
                          <left xmi:type="Gipsl:RoamLambdaAttributeExpression" var="//@constraints.5/@expr/@expr/@left/@left/@operand/@right/@expr/@left/@lambda">
                            <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.1/@nodes.1"/>
                          </left>
                          <right xmi:type="Gipsl:RoamContextExpr">
                            <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.3/@nodes.1"/>
                          </right>
                        </right>
                      </expr>
                    </lambda>
                  </left>
                  <right xmi:type="Gipsl:RoamStreamBoolExpr" operator="count()"/>
                </expr>
              </right>
            </operand>
          </left>
          <right xmi:type="Gipsl:RoamBracketExpr">
            <operand xmi:type="Gipsl:RoamSumArithmeticExpr">
              <left xmi:type="Gipsl:RoamMappingAttributeExpr" mapping="//@mappings.0">
                <expr xmi:type="Gipsl:RoamStreamNavigation">
                  <left xmi:type="Gipsl:RoamStreamSet">
                    <lambda xmi:type="Gipsl:RoamLambdaExpression" name="mpp">
                      <expr xmi:type="Gipsl:RoamBinaryBoolExpr">
                        <left xmi:type="Gipsl:RoamRelExpr" operator="==">
                          <left xmi:type="Gipsl:RoamLambdaAttributeExpression" var="//@constraints.5/@expr/@expr/@left/@right/@operand/@left/@expr/@left/@lambda">
                            <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.0/@nodes.2"/>
                          </left>
                          <right xmi:type="Gipsl:RoamContextExpr">
                            <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.3/@nodes.2">
                              <expr xmi:type="Gipsl:RoamFeatureLit">
                                <feature xmi:type="ecore:EReference" href="../../../../../../../../network.model/model/Model.ecore#//Link/target"/>
                              </expr>
                            </expr>
                          </right>
                        </left>
                        <right xmi:type="Gipsl:RoamRelExpr" operator="==">
                          <left xmi:type="Gipsl:RoamLambdaAttributeExpression" var="//@constraints.5/@expr/@expr/@left/@right/@operand/@left/@expr/@left/@lambda">
                            <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.0/@nodes.1"/>
                          </left>
                          <right xmi:type="Gipsl:RoamContextExpr">
                            <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.3/@nodes.1"/>
                          </right>
                        </right>
                      </expr>
                    </lambda>
                  </left>
                  <right xmi:type="Gipsl:RoamStreamBoolExpr" operator="count()"/>
                </expr>
              </left>
              <right xmi:type="Gipsl:RoamMappingAttributeExpr" mapping="//@mappings.1">
                <expr xmi:type="Gipsl:RoamStreamNavigation">
                  <left xmi:type="Gipsl:RoamStreamSet">
                    <lambda xmi:type="Gipsl:RoamLambdaExpression" name="mpp">
                      <expr xmi:type="Gipsl:RoamBinaryBoolExpr">
                        <left xmi:type="Gipsl:RoamRelExpr" operator="==">
                          <left xmi:type="Gipsl:RoamLambdaAttributeExpression" var="//@constraints.5/@expr/@expr/@left/@right/@operand/@right/@expr/@left/@lambda">
                            <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.1/@nodes.2"/>
                          </left>
                          <right xmi:type="Gipsl:RoamContextExpr">
                            <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.3/@nodes.2">
                              <expr xmi:type="Gipsl:RoamFeatureLit">
                                <feature xmi:type="ecore:EReference" href="../../../../../../../../network.model/model/Model.ecore#//Link/target"/>
                              </expr>
                            </expr>
                          </right>
                        </left>
                        <right xmi:type="Gipsl:RoamRelExpr" operator="==">
                          <left xmi:type="Gipsl:RoamLambdaAttributeExpression" var="//@constraints.5/@expr/@expr/@left/@right/@operand/@right/@expr/@left/@lambda">
                            <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.1/@nodes.1"/>
                          </left>
                          <right xmi:type="Gipsl:RoamContextExpr">
                            <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.3/@nodes.1"/>
                          </right>
                        </right>
                      </expr>
                    </lambda>
                  </left>
                  <right xmi:type="Gipsl:RoamStreamBoolExpr" operator="count()"/>
                </expr>
              </right>
            </operand>
          </right>
        </left>
        <right xmi:type="Gipsl:RoamProductArithmeticExpr">
          <left xmi:type="Gipsl:RoamArithmeticLiteral" value="2"/>
          <right xmi:type="Gipsl:RoamMappingAttributeExpr" mapping="//@mappings.3">
            <expr xmi:type="Gipsl:RoamStreamNavigation">
              <left xmi:type="Gipsl:RoamStreamSet">
                <lambda xmi:type="Gipsl:RoamLambdaExpression" name="mpp">
                  <expr xmi:type="Gipsl:RoamBinaryBoolExpr">
                    <left xmi:type="Gipsl:RoamRelExpr" operator="==">
                      <left xmi:type="Gipsl:RoamLambdaAttributeExpression" var="//@constraints.5/@expr/@expr/@right/@right/@expr/@left/@lambda">
                        <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.3/@nodes.1"/>
                      </left>
                      <right xmi:type="Gipsl:RoamContextExpr">
                        <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.3/@nodes.1"/>
                      </right>
                    </left>
                    <right xmi:type="Gipsl:RoamRelExpr" operator="==">
                      <left xmi:type="Gipsl:RoamLambdaAttributeExpression" var="//@constraints.5/@expr/@expr/@right/@right/@expr/@left/@lambda">
                        <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.3/@nodes.2"/>
                      </left>
                      <right xmi:type="Gipsl:RoamContextExpr">
                        <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.3/@nodes.2"/>
                      </right>
                    </right>
                  </expr>
                </lambda>
              </left>
              <right xmi:type="Gipsl:RoamStreamBoolExpr" operator="count()"/>
            </expr>
          </right>
        </right>
      </expr>
    </expr>
  </constraints>
  <constraints xmi:type="Gipsl:RoamConstraint">
    <context xmi:type="Gipsl:RoamTypeContext">
      <type xmi:type="ecore:EClass" href="../../../../../../../../network.model/model/Model.ecore#//VirtualLink"/>
    </context>
    <expr xmi:type="Gipsl:RoamBool">
      <expr xmi:type="Gipsl:RoamRelExpr" operator="==">
        <left xmi:type="Gipsl:RoamSumArithmeticExpr">
          <left xmi:type="Gipsl:RoamMappingAttributeExpr" mapping="//@mappings.2">
            <expr xmi:type="Gipsl:RoamStreamNavigation">
              <left xmi:type="Gipsl:RoamStreamSet">
                <lambda xmi:type="Gipsl:RoamLambdaExpression" name="m">
                  <expr xmi:type="Gipsl:RoamRelExpr" operator="==">
                    <left xmi:type="Gipsl:RoamLambdaAttributeExpression" var="//@constraints.6/@expr/@expr/@left/@left/@expr/@left/@lambda">
                      <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.2/@nodes.2"/>
                    </left>
                    <right xmi:type="Gipsl:RoamContextExpr"/>
                  </expr>
                </lambda>
              </left>
              <right xmi:type="Gipsl:RoamStreamBoolExpr" operator="count()"/>
            </expr>
          </left>
          <right xmi:type="Gipsl:RoamMappingAttributeExpr" mapping="//@mappings.3">
            <expr xmi:type="Gipsl:RoamStreamNavigation">
              <left xmi:type="Gipsl:RoamStreamSet">
                <lambda xmi:type="Gipsl:RoamLambdaExpression" name="m">
                  <expr xmi:type="Gipsl:RoamRelExpr" operator="==">
                    <left xmi:type="Gipsl:RoamLambdaAttributeExpression" var="//@constraints.6/@expr/@expr/@left/@right/@expr/@left/@lambda">
                      <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.3/@nodes.2"/>
                    </left>
                    <right xmi:type="Gipsl:RoamContextExpr"/>
                  </expr>
                </lambda>
              </left>
              <right xmi:type="Gipsl:RoamStreamBoolExpr" operator="count()"/>
            </expr>
          </right>
        </left>
        <right xmi:type="Gipsl:RoamArithmeticLiteral" value="1"/>
      </expr>
    </expr>
  </constraints>
  <objectives xmi:type="Gipsl:RoamObjective" name="srvObj">
    <context xmi:type="Gipsl:RoamMappingContext" mapping="//@mappings.0"/>
    <expr xmi:type="Gipsl:RoamSumArithmeticExpr">
      <left xmi:type="Gipsl:RoamSumArithmeticExpr">
        <left xmi:type="Gipsl:RoamProductArithmeticExpr" operator="/">
          <left xmi:type="Gipsl:RoamContextExpr">
            <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.0/@nodes.1">
              <expr xmi:type="Gipsl:RoamFeatureLit">
                <feature xmi:type="ecore:EAttribute" href="../../../../../../../../network.model/model/Model.ecore#//SubstrateServer/residualCpu"/>
              </expr>
            </expr>
          </left>
          <right xmi:type="Gipsl:RoamContextExpr">
            <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.0/@nodes.1">
              <expr xmi:type="Gipsl:RoamFeatureLit">
                <feature xmi:type="ecore:EAttribute" href="../../../../../../../../network.model/model/Model.ecore#//Server/cpu"/>
              </expr>
            </expr>
          </right>
        </left>
        <right xmi:type="Gipsl:RoamProductArithmeticExpr" operator="/">
          <left xmi:type="Gipsl:RoamContextExpr">
            <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.0/@nodes.1">
              <expr xmi:type="Gipsl:RoamFeatureLit">
                <feature xmi:type="ecore:EAttribute" href="../../../../../../../../network.model/model/Model.ecore#//SubstrateServer/residualMemory"/>
              </expr>
            </expr>
          </left>
          <right xmi:type="Gipsl:RoamContextExpr">
            <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.0/@nodes.1">
              <expr xmi:type="Gipsl:RoamFeatureLit">
                <feature xmi:type="ecore:EAttribute" href="../../../../../../../../network.model/model/Model.ecore#//Server/memory"/>
              </expr>
            </expr>
          </right>
        </right>
      </left>
      <right xmi:type="Gipsl:RoamProductArithmeticExpr" operator="/">
        <left xmi:type="Gipsl:RoamContextExpr">
          <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.0/@nodes.1">
            <expr xmi:type="Gipsl:RoamFeatureLit">
              <feature xmi:type="ecore:EAttribute" href="../../../../../../../../network.model/model/Model.ecore#//SubstrateServer/residualStorage"/>
            </expr>
          </expr>
        </left>
        <right xmi:type="Gipsl:RoamContextExpr">
          <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.0/@nodes.1">
            <expr xmi:type="Gipsl:RoamFeatureLit">
              <feature xmi:type="ecore:EAttribute" href="../../../../../../../../network.model/model/Model.ecore#//Server/storage"/>
            </expr>
          </expr>
        </right>
      </right>
    </expr>
  </objectives>
  <objectives xmi:type="Gipsl:RoamObjective" name="lpObj">
    <context xmi:type="Gipsl:RoamMappingContext" mapping="//@mappings.2"/>
    <expr xmi:type="Gipsl:RoamProductArithmeticExpr">
      <left xmi:type="Gipsl:RoamContextExpr">
        <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.2/@nodes.2">
          <expr xmi:type="Gipsl:RoamFeatureLit">
            <feature xmi:type="ecore:EAttribute" href="../../../../../../../../network.model/model/Model.ecore#//Link/bandwidth"/>
          </expr>
        </expr>
      </left>
      <right xmi:type="Gipsl:RoamContextExpr">
        <expr xmi:type="Gipsl:RoamNodeAttributeExpr" node="//@patterns.2/@nodes.1">
          <expr xmi:type="Gipsl:RoamFeatureLit">
            <feature xmi:type="ecore:EAttribute" href="../../../../../../../../network.model/model/Model.ecore#//SubstratePath/hops"/>
          </expr>
        </expr>
      </right>
    </expr>
  </objectives>
  <globalObjective xmi:type="Gipsl:RoamGlobalObjective">
    <expr xmi:type="Gipsl:RoamSumArithmeticExpr">
      <left xmi:type="Gipsl:RoamObjectiveExpression" objective="//@objectives.0"/>
      <right xmi:type="Gipsl:RoamObjectiveExpression" objective="//@objectives.1"/>
    </expr>
  </globalObjective>
</Gipsl:EditorGTFile>
