import "platform:/resource/ihtcvirtualmetamodel/model/Ihtcvirtualmetamodel.ecore"

//
// GT rules for the pre-processing of a (virtual) model
//

// TODO: this rule is just an example
rule assignSurgeonToOt {
	root: Root {
		-surgeons -> surgeon
		-ots -> o
	}

	surgeon: Surgeon {
		-opTimes -> op
	}

	op: OpTime {
		++ -derivedCapacities -> c
	}

	o: OT {
		-capacities -> c
	}

	c: Capacity
	# op.day == c.day
}
